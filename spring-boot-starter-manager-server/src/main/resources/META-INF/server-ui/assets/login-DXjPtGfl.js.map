{"version":3,"file":"login-DXjPtGfl.js","sources":["../../../../../../../manager-server-ui/src/services/user.ts","../../../../../../../manager-server-ui/src/views/login/login.vue","../../../../../../../manager-server-ui/src/views/login/login.vue","../../../../../../../manager-server-ui/src/login.ts"],"sourcesContent":["import axios from 'axios';\n\nclass User {\n  static login(username: string, password: string) {\n    return axios.post(\n      'api/login',\n      { username, password },\n      { headers: { 'Content-Type': 'application/json' } },\n    );\n  }\n}\n\nexport default User;\n","<template>\n  <div class=\"flex content-center items-center justify-center h-full\">\n    <div class=\"w-full px-4\">\n      <div\n        class=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-200 border-0\"\n      >\n        <div class=\"flex items-center\">\n          <img\n            v-if=\"icon\"\n            :src=\"icon\"\n            class=\"flex-initial w-12 h-12 m-6\"\n          />\n          <div class=\"flex-initial text-2xl font-semibold\">{{ title }}</div>\n        </div>\n        <div class=\"flex-auto px-4 py-10 pt-0\">\n          <form>\n            <div class=\"relative w-full mb-3\">\n              <label\n                class=\"block uppercase text-gray-600 text-sm font-bold text-justify mb-2\"\n                htmlFor=\"grid-password\"\n              >\n                用户名\n              </label>\n              <input\n                v-model=\"username\"\n                type=\"text\"\n                class=\"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring-blue-500 w-full ease-linear transition-all duration-150\"\n                placeholder=\"请输入用户名\"\n                autofocus\n              />\n            </div>\n            <div class=\"relative w-full mb-3\">\n              <label\n                class=\"block uppercase text-gray-600 text-sm font-bold mb-2\"\n                htmlFor=\"grid-password\"\n              >\n                密码\n              </label>\n              <input\n                v-model=\"password\"\n                type=\"password\"\n                class=\"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring-blue-500 w-full ease-linear transition-all duration-150\"\n                placeholder=\"请输入密码\"\n                @keyup.enter=\"login\"\n              />\n            </div>\n            <div class=\"text-center mt-6 w-96\">\n              <button\n                class=\"bg-gray-800 text-white active:bg-gray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150\"\n                type=\"button\"\n                @click=\"login\"\n              >\n                登录\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nimport { setCurrentUser } from '@/main/config';\nimport User from '@/services/user';\n\nexport default defineComponent({\n  props: {\n    icon: {\n      type: String,\n      default: undefined,\n    },\n    title: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      username: '',\n      password: '',\n    };\n  },\n  methods: {\n    login(event) {\n      event.preventDefault();\n      User.login(this.username, this.password)\n        .then((response) => {\n          // 成功存储用户信息和设置请求头\n          localStorage.setItem('token', response.data);\n          setCurrentUser(this.username);\n          let url = window.location.href.replace('login.html', 'applications');\n          url = url.replace('login', 'applications');\n          window.location.href = url;\n        })\n        .catch((error) => {\n          ElMessage.error(error.response.data);\n          // 失败提示\n          localStorage.removeItem('token');\n        });\n    },\n  },\n});\n</script>\n","<template>\n  <div class=\"flex content-center items-center justify-center h-full\">\n    <div class=\"w-full px-4\">\n      <div\n        class=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-200 border-0\"\n      >\n        <div class=\"flex items-center\">\n          <img\n            v-if=\"icon\"\n            :src=\"icon\"\n            class=\"flex-initial w-12 h-12 m-6\"\n          />\n          <div class=\"flex-initial text-2xl font-semibold\">{{ title }}</div>\n        </div>\n        <div class=\"flex-auto px-4 py-10 pt-0\">\n          <form>\n            <div class=\"relative w-full mb-3\">\n              <label\n                class=\"block uppercase text-gray-600 text-sm font-bold text-justify mb-2\"\n                htmlFor=\"grid-password\"\n              >\n                用户名\n              </label>\n              <input\n                v-model=\"username\"\n                type=\"text\"\n                class=\"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring-blue-500 w-full ease-linear transition-all duration-150\"\n                placeholder=\"请输入用户名\"\n                autofocus\n              />\n            </div>\n            <div class=\"relative w-full mb-3\">\n              <label\n                class=\"block uppercase text-gray-600 text-sm font-bold mb-2\"\n                htmlFor=\"grid-password\"\n              >\n                密码\n              </label>\n              <input\n                v-model=\"password\"\n                type=\"password\"\n                class=\"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring-blue-500 w-full ease-linear transition-all duration-150\"\n                placeholder=\"请输入密码\"\n                @keyup.enter=\"login\"\n              />\n            </div>\n            <div class=\"text-center mt-6 w-96\">\n              <button\n                class=\"bg-gray-800 text-white active:bg-gray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150\"\n                type=\"button\"\n                @click=\"login\"\n              >\n                登录\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nimport { setCurrentUser } from '@/main/config';\nimport User from '@/services/user';\n\nexport default defineComponent({\n  props: {\n    icon: {\n      type: String,\n      default: undefined,\n    },\n    title: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      username: '',\n      password: '',\n    };\n  },\n  methods: {\n    login(event) {\n      event.preventDefault();\n      User.login(this.username, this.password)\n        .then((response) => {\n          // 成功存储用户信息和设置请求头\n          localStorage.setItem('token', response.data);\n          setCurrentUser(this.username);\n          let url = window.location.href.replace('login.html', 'applications');\n          url = url.replace('login', 'applications');\n          window.location.href = url;\n        })\n        .catch((error) => {\n          ElMessage.error(error.response.data);\n          // 失败提示\n          localStorage.removeItem('token');\n        });\n    },\n  },\n});\n</script>\n","import { createApp } from 'vue';\r\nimport Login from '@/views/login/login.vue';\r\n\r\nconst app = createApp(Login, {\r\n  icon: './assets/img/favicon.png',\r\n  title: window.uiSettings?.title ? window.uiSettings.title : 'Server Manager',\r\n});\r\n\r\napp.mount('#login');\r\n"],"names":["User","username","password","axios","_sfc_main","defineComponent","event","response","setCurrentUser","url","error","ElMessage","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createElementVNode","_hoisted_10","_hoisted_11","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_4","_createCommentVNode","_toDisplayString","_withDirectives","$event","_withKeys","args","_hoisted_12","app","createApp","Login"],"mappings":"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"}