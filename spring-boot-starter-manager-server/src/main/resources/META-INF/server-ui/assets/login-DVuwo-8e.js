import{dd as d,M as u,dj as p,di as c,df as g,aE as n,u as a,v as o,t as m,b3 as f,bz as i,bo as r,bA as w,r as h}from"./el-message-XTHx3Vm7.js";class b{static login(t,l){return d.post("api/login",{username:t,password:l},{headers:{"Content-Type":"application/json"}})}}const y=u({props:{icon:{type:String,default:void 0},title:{type:String,required:!0}},data(){return{username:"",password:""}},methods:{login(e){e.preventDefault(),b.login(this.username,this.password).then(t=>{localStorage.setItem("token",t.data),p(this.username);let l=window.location.href.replace("login.html","applications");l=l.replace("login","applications"),window.location.href=l}).catch(t=>{c.error(t.response.data),localStorage.removeItem("token")})}}}),v={class:"flex content-center items-center justify-center h-full"},x={class:"w-full px-4"},_={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-200 border-0"},k={class:"flex items-center"},B=["src"],S={class:"flex-initial text-2xl font-semibold"},C={class:"flex-auto px-4 py-10 pt-0"},F={class:"relative w-full mb-3"},D=o("label",{class:"block uppercase text-gray-600 text-sm font-bold text-justify mb-2",htmlFor:"grid-password"}," 用户名 ",-1),j={class:"relative w-full mb-3"},M=o("label",{class:"block uppercase text-gray-600 text-sm font-bold mb-2",htmlFor:"grid-password"}," 密码 ",-1),U={class:"text-center mt-6 w-96"};function V(e,t,l,A,I,K){return n(),a("div",v,[o("div",x,[o("div",_,[o("div",k,[e.icon?(n(),a("img",{key:0,src:e.icon,class:"flex-initial w-12 h-12 m-6"},null,8,B)):m("",!0),o("div",S,f(e.title),1)]),o("div",C,[o("form",null,[o("div",F,[D,i(o("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.username=s),type:"text",class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring-blue-500 w-full ease-linear transition-all duration-150",placeholder:"请输入用户名",autofocus:""},null,512),[[r,e.username]])]),o("div",j,[M,i(o("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.password=s),type:"password",class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring-blue-500 w-full ease-linear transition-all duration-150",placeholder:"请输入密码",onKeyup:t[2]||(t[2]=w((...s)=>e.login&&e.login(...s),["enter"]))},null,544),[[r,e.password]])]),o("div",U,[o("button",{class:"bg-gray-800 text-white active:bg-gray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150",type:"button",onClick:t[3]||(t[3]=(...s)=>e.login&&e.login(...s))}," 登录 ")])])])])])])}const $=g(y,[["render",V]]),E=h($,{icon:"./assets/img/favicon.png",title:window.uiSettings?.title?window.uiSettings.title:"Server Manager"});E.mount("#login");
//# sourceMappingURL=login-DVuwo-8e.js.map
